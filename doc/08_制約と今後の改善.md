# 08. 制約と今後の改善

## 8.1 現状の制約

- `credentials.json` をローカル配置する運用が必要
- `token.json` は暗号化非対応環境では平文フォールバック
- タスクタブはモック表示で実データ未連携
- エラー通知は `console.error` 中心で、ユーザー通知 UI が最小
- 自動取得はポーリング方式（30秒周期）

## 8.2 セキュリティ改善候補

- OAuth クライアント情報の安全配布フロー整備
- `token.json` ファイル権限の強制設定
- 監査ログ（認証失敗/API失敗）の構造化
- CSP の更なる厳格化

## 8.3 UX 改善候補

- 同期失敗/設定保存失敗のトースト通知
- 予定表の検索・フィルタ・ソート
- タスクタブの CRUD 実装
- アクセシビリティ向上（キーボード操作と読み上げ）

## 8.4 アーキテクチャ改善候補

- `googleAuth.ts` のさらなる分割
  - OAuth 処理
  - API クライアント
  - 永続化
- IPC エラーオブジェクトの標準化
- 自動取得をジョブキュー化し、再試行制御を共通化

## 8.5 テスト戦略改善候補

- Main:
  - スケジューラ判定ロジックのユニットテスト
  - 設定正規化の境界値テスト
  - リトライ制御の失敗系テスト
- Renderer:
  - 日付入力フローのコンポーネントテスト
  - 認証 UI 遷移テスト
  - モーダル ESC 操作テスト
