# 08. 制約と今後の改善

## 8.1 現状の制約

- `credentials.json` のローカル配置が必要
- `safeStorage` 非対応環境ではトークン平文フォールバックが発生
- タスクは日次管理が中心で、集計・分析は未実装
- UIテスト/E2Eは未導入（現状はユニット中心）

## 8.2 なぜこの制約を受け入れているか

- まずは「ローカル単体で確実に動く」ことを優先したため
- 外部依存を増やすより、障害点を少なくして保守しやすくするため

## 8.3 改善候補（優先度高）

1. セキュリティ
- トークンファイル権限の自動調整
- OAuthクレデンシャル配布の運用設計

2. UX
- 同期失敗/保存失敗のトースト通知
- タスク一覧フィルタ・検索・並べ替え

3. 運用
- `build:win` の環境依存エラー回避手順をスクリプト化

## 8.4 改善候補（優先度中）

- タスク集計（合計時間、達成率）
- 日次持ち越し（`carryover` の自動生成）
- 祝日/稼働日カレンダー連携

## 8.5 改善候補（優先度低）

- `TaskBoard` のさらなる分割（フォーム制御とテーブル制御分離）
- `googleAuth.ts` の機能分割（OAuth/API/Persistence）

## 8.6 テスト改善

- Rendererコンポーネントテスト（DateSelector/TaskBoard）
- Main統合テスト（Window/Trayを含む）
- OAuthフローのモック統合テスト
