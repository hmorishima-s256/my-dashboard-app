# 01. システム概要

## 1.1 アプリの目的

本アプリは、日々の業務で使う「予定」と「タスク」を1画面で扱うローカルファーストなデスクトップダッシュボードです。

- Google Calendar 予定の取得・一覧表示
- ログインユーザーごとのタスク予実管理
- 自動同期（時刻指定 + 間隔指定）
- バックグラウンド常駐
- Windows起動時の自動起動（初回設定）

## 1.2 この構成にした理由（設計意図）

- ローカル保存中心にした理由:
  - 外部DB依存を避け、単体PCで完結する運用にするため
- Electron採用理由:
  - ブラウザ依存なしで常駐・自動起動・トレイ制御を実現するため
- Main/Renderer分離理由:
  - 認証トークンやファイルI/OをUI層から分離し、安全性と保守性を上げるため
- 型契約を共有化した理由:
  - IPCの不整合を防ぎ、変更時の破壊範囲を小さくするため

## 1.3 技術スタック

- デスクトップ: `Electron`
- UI: `React 19` + `TypeScript`
- ビルド: `electron-vite`
- 配布: `electron-builder`
- Google連携: `googleapis`
- ローカル永続化: `lowdb`
- 選択入力UI: `react-select/creatable`
- テスト: `vitest`

## 1.4 実行モデル

- Main Process
  - 認証、設定、カレンダー取得、タスク保存、スケジューラ、トレイ
- Preload
  - `window.api` の安全なブリッジ
- Renderer
  - 画面描画、入力制御、ユーザー操作
- Shared
  - Main/Preload/Rendererの共通契約型

## 1.5 現在の提供価値（ユーザー視点）

- 今日/任意日の予定をワンクリック同期で確認できる
- タスクを案件単位で蓄積し、日付ごとに管理できる
- 中断/再開を含む実績記録ができる
- ログイン時は永続、未ログイン時はゲスト一時利用ができる

## 1.6 主要ディレクトリ

- `src/main`: バックエンド処理
- `src/preload`: IPCブリッジ
- `src/renderer/src`: 画面とUIロジック
- `src/shared`: 契約型
- `doc`: 本ドキュメント
